<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.23" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.152" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"加密与鉴权","image":[""],"dateModified":"2025-09-11T01:53:44.000Z","author":[]}</script><meta property="og:url" content="https://try-catch.life/article/b6k9b12u/"><meta property="og:site_name" content="码不停蹄"><meta property="og:title" content="加密与鉴权"><meta property="og:description" content="在现代Web应用开发中，数据的安全性如同数字世界的护城河与城门守卫，至关重要。作为开发者，我们必须确保用户数据在传输和存储过程中不被窃取或篡改。本文将深入浅出地探讨Java后端与前端交互时涉及的信息传输加密和身份鉴权两大核心安全机制。 一、 为何需要加密？—— 不设防的世界很危险 想象一下，如果你在网上购物时，你的账号、密码、支付信息全部以明文（就像这..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-09-11T01:53:44.000Z"><meta property="article:tag" content="HTTP"><meta property="article:tag" content="安全"><meta property="article:modified_time" content="2025-09-11T01:53:44.000Z"><link rel="icon" type="image/png" href="/logo.svg"><title>加密与鉴权 | 码不停蹄</title><meta name="description" content="在现代Web应用开发中，数据的安全性如同数字世界的护城河与城门守卫，至关重要。作为开发者，我们必须确保用户数据在传输和存储过程中不被窃取或篡改。本文将深入浅出地探讨Java后端与前端交互时涉及的信息传输加密和身份鉴权两大核心安全机制。 一、 为何需要加密？—— 不设防的世界很危险 想象一下，如果你在网上购物时，你的账号、密码、支付信息全部以明文（就像这..."><link rel="preload" href="/assets/style-MFMhpo-C.css" as="style"><link rel="stylesheet" href="/assets/style-MFMhpo-C.css"><link rel="modulepreload" href="/assets/app-DPsnFlrR.js"><link rel="modulepreload" href="/assets/index.html-BCjBHobG.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-b1a36740><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-40f150bc></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-40f150bc> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-b1a36740 data-v-4753511b><div class="vp-navbar" vp-navbar data-v-4753511b data-v-18be9321><div class="wrapper" data-v-18be9321><div class="container" data-v-18be9321><div class="title" data-v-18be9321><div class="vp-navbar-title" data-v-18be9321 data-v-04d4efbe><a class="vp-link no-icon link title" href="/" data-v-04d4efbe data-v-c1812330><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="/logo.svg" alt data-v-d8a2f0bc><!--]--><!--[--><img class="vp-image light logo" style="" src="/logo.svg" alt data-v-d8a2f0bc><!--]--><!--]--><!--]--><span data-v-04d4efbe>码不停蹄</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-18be9321><div class="content-body" data-v-18be9321><!--[--><!--]--><div class="vp-navbar-search search" data-v-18be9321><div class="search-wrapper" data-v-84249fed><!----><div id="local-search" data-v-84249fed><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-84249fed><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-18be9321 data-v-1d179f0f><span id="main-nav-aria-label" class="visually-hidden" data-v-1d179f0f>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/" tabindex="0" data-v-1d179f0f data-v-ec7e91fb data-v-c1812330><!--[--><span class="vp-icon-img" aria-hidden data-v-ec7e91fb data-v-0fedc021><img src="/icons/blog.svg" alt="" style="" data-v-0fedc021></span><span data-v-ec7e91fb>博客</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/tags/" tabindex="0" data-v-1d179f0f data-v-ec7e91fb data-v-c1812330><!--[--><span class="vp-icon-img" aria-hidden data-v-ec7e91fb data-v-0fedc021><img src="/icons/blog.svg" alt="" style="" data-v-0fedc021></span><span data-v-ec7e91fb>标签</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/categories/" tabindex="0" data-v-1d179f0f data-v-ec7e91fb data-v-c1812330><!--[--><span class="vp-icon-img" aria-hidden data-v-ec7e91fb data-v-0fedc021><img src="/icons/blog.svg" alt="" style="" data-v-0fedc021></span><span data-v-ec7e91fb>分类</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/archives/" tabindex="0" data-v-1d179f0f data-v-ec7e91fb data-v-c1812330><!--[--><span class="vp-icon-img" aria-hidden data-v-ec7e91fb data-v-0fedc021><img src="/icons/blog.svg" alt="" style="" data-v-0fedc021></span><span data-v-ec7e91fb>归档</span><!----><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-1d179f0f data-v-e6c717af><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-e6c717af><span class="text" data-v-e6c717af><span class="vp-icon-img" aria-hidden data-v-e6c717af data-v-0fedc021><img src="/icons/blog.svg" alt="" style="" data-v-0fedc021></span><!----><span data-v-e6c717af>工具</span><!----><span class="vpi-chevron-down text-icon" data-v-e6c717af></span></span></button><div class="menu" data-v-e6c717af><div class="vp-menu" data-v-e6c717af data-v-485a3cff><div class="items" data-v-485a3cff><!--[--><!--[--><div class="vp-menu-link" data-v-485a3cff data-v-8e3b5f7b><a class="vp-link no-icon link" href="https://try-catch.life/colorful-board/" target="_blank" rel="noreferrer" data-v-8e3b5f7b data-v-c1812330><!--[--><span class="vp-icon-img" aria-hidden data-v-8e3b5f7b data-v-0fedc021><img src="/icons/color-board.svg" alt="" style="" data-v-0fedc021></span> mini调色板 <!----><!--]--><span class="vpi-external-link icon" data-v-c1812330></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-485a3cff data-v-8e3b5f7b><a class="vp-link no-icon link" href="https://try-catch.life/emoji-display/" target="_blank" rel="noreferrer" data-v-8e3b5f7b data-v-c1812330><!--[--><span class="vp-icon-img" aria-hidden data-v-8e3b5f7b data-v-0fedc021><img src="/icons/emoji_loveface.svg" alt="" style="" data-v-0fedc021></span> emoji大全 <!----><!--]--><span class="vpi-external-link icon" data-v-c1812330></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-485a3cff data-v-8e3b5f7b><a class="vp-link no-icon link" href="https://try-catch.life/echarts-demo/" target="_blank" rel="noreferrer" data-v-8e3b5f7b data-v-c1812330><!--[--><span class="vp-icon-img" aria-hidden data-v-8e3b5f7b data-v-0fedc021><img src="/icons/chart-logo.svg" alt="" style="" data-v-0fedc021></span> Echarts学习 <!----><!--]--><span class="vpi-external-link icon" data-v-c1812330></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-485a3cff data-v-8e3b5f7b><a class="vp-link no-icon link" href="https://try-catch.life/img-tools/" target="_blank" rel="noreferrer" data-v-8e3b5f7b data-v-c1812330><!--[--><span class="vp-icon-img" aria-hidden data-v-8e3b5f7b data-v-0fedc021><img src="/icons/img-tools-logo.svg" alt="" style="" data-v-0fedc021></span> 图片处理工具 <!----><!--]--><span class="vpi-external-link icon" data-v-c1812330></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-485a3cff data-v-8e3b5f7b><a class="vp-link no-icon link" href="https://marklite.cn/" target="_blank" rel="noreferrer" data-v-8e3b5f7b data-v-c1812330><!--[--><span class="vp-icon-img" aria-hidden data-v-8e3b5f7b data-v-0fedc021><img src="/icons/markdown-editor-logo.svg" alt="" style="" data-v-0fedc021></span> 素笔 Mark 编辑器 <!----><!--]--><span class="vpi-external-link icon" data-v-c1812330></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-485a3cff data-v-8e3b5f7b><a class="vp-link no-icon link" href="https://try-catch.life/pdf-to-picture/" target="_blank" rel="noreferrer" data-v-8e3b5f7b data-v-c1812330><!--[--><span class="vp-icon-img" aria-hidden data-v-8e3b5f7b data-v-0fedc021><img src="/icons/pdf-logo.svg" alt="" style="" data-v-0fedc021></span> PDF转图片 <!----><!--]--><span class="vpi-external-link icon" data-v-c1812330></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-485a3cff data-v-8e3b5f7b><a class="vp-link no-icon link" href="https://www.easyapi.top/" target="_blank" rel="noreferrer" data-v-8e3b5f7b data-v-c1812330><!--[--><span class="vp-icon-img" aria-hidden data-v-8e3b5f7b data-v-0fedc021><img src="/icons/easy-api.svg" alt="" style="" data-v-0fedc021></span> Easy API <!----><!--]--><span class="vpi-external-link icon" data-v-c1812330></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-485a3cff data-v-8e3b5f7b><a class="vp-link no-icon link" href="https://try-catch.life/MyCharts/" target="_blank" rel="noreferrer" data-v-8e3b5f7b data-v-c1812330><!--[--><span class="vp-icon-img" aria-hidden data-v-8e3b5f7b data-v-0fedc021><img src="/icons/monitor.svg" alt="" style="" data-v-0fedc021></span> 慧眼 <!----><!--]--><span class="vpi-external-link icon" data-v-c1812330></span></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/article/20jmp37t/" tabindex="0" data-v-1d179f0f data-v-ec7e91fb data-v-c1812330><!--[--><span class="vp-icon-img" aria-hidden data-v-ec7e91fb data-v-0fedc021><img src="/icons/blog.svg" alt="" style="" data-v-0fedc021></span><span data-v-ec7e91fb>关于我</span><!----><!--]--><!----></a><!--]--><!--]--></nav><!--[--><!--]--><!----><div class="vp-navbar-appearance appearance" data-v-18be9321 data-v-0ac5e3b7><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-0ac5e3b7 data-v-f3372dd5 data-v-3690bac0><span class="check" data-v-3690bac0><span class="icon" data-v-3690bac0><!--[--><span class="vpi-sun sun" data-v-f3372dd5></span><span class="vpi-moon moon" data-v-f3372dd5></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-18be9321 data-v-6c748444 data-v-1aeeee45><!--[--><a class="vp-social-link no-icon" href="https://github.com/ziqingchuan" aria-label="github" target="_blank" rel="noopener" data-v-1aeeee45 data-v-a4a239e5><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-18be9321 data-v-f0945f40 data-v-e6c717af><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e6c717af><span class="vpi-more-horizontal icon" data-v-e6c717af></span></button><div class="menu" data-v-e6c717af><div class="vp-menu" data-v-e6c717af data-v-485a3cff><!----><!--[--><!--[--><!----><div class="group" data-v-f0945f40><div class="item appearance" data-v-f0945f40><p class="label" data-v-f0945f40>外观</p><div class="appearance-action" data-v-f0945f40><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-f0945f40 data-v-f3372dd5 data-v-3690bac0><span class="check" data-v-3690bac0><span class="icon" data-v-3690bac0><!--[--><span class="vpi-sun sun" data-v-f3372dd5></span><span class="vpi-moon moon" data-v-f3372dd5></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f0945f40><div class="item social-links" data-v-f0945f40><div class="vp-social-links social-links-list" data-v-f0945f40 data-v-1aeeee45><!--[--><a class="vp-social-link no-icon" href="https://github.com/ziqingchuan" aria-label="github" target="_blank" rel="noopener" data-v-1aeeee45 data-v-a4a239e5><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-18be9321 data-v-d83df393><span class="container" data-v-d83df393><span class="top" data-v-d83df393></span><span class="middle" data-v-d83df393></span><span class="bottom" data-v-d83df393></span></span></button></div></div></div></div><div class="divider" data-v-18be9321><div class="divider-line" data-v-18be9321></div></div></div><!----></header><div class="vp-local-nav fixed reached-top is-blog" data-v-b1a36740 data-v-96cba3b0><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-96cba3b0><span class="vpi-align-left menu-icon" data-v-96cba3b0></span><span class="menu-text" data-v-96cba3b0>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-96cba3b0 data-v-d55f6d70><button data-v-d55f6d70>返回顶部</button><!----></div></div><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-b1a36740 data-v-6ef8175f><div class="vp-doc-container is-blog" data-v-6ef8175f data-v-4b8661e4><!--[--><!--]--><div class="container" data-v-4b8661e4><!----><div class="content" data-v-4b8661e4><div class="content-container" data-v-4b8661e4><!--[--><!--]--><main class="main" data-v-4b8661e4><nav class="vp-breadcrumb" data-v-4b8661e4 data-v-78a62616><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-78a62616><!--[--><li property="itemListElement" typeof="ListItem" data-v-78a62616><a class="vp-link no-icon link breadcrumb" href="/" property="item" typeof="WebPage" data-v-78a62616 data-v-c1812330><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-78a62616></span><meta property="name" content="首页" data-v-78a62616><meta property="position" content="1" data-v-78a62616></li><li property="itemListElement" typeof="ListItem" data-v-78a62616><a class="vp-link no-icon link breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-78a62616 data-v-c1812330><!--[-->博客<!--]--><!----></a><span class="vpi-chevron-right" data-v-78a62616></span><meta property="name" content="博客" data-v-78a62616><meta property="position" content="2" data-v-78a62616></li><li property="itemListElement" typeof="ListItem" data-v-78a62616><a class="vp-link no-icon link breadcrumb" href="/blog/categories/?id=293c9e" property="item" typeof="WebPage" data-v-78a62616 data-v-c1812330><!--[-->HTTP<!--]--><!----></a><span class="vpi-chevron-right" data-v-78a62616></span><meta property="name" content="HTTP" data-v-78a62616><meta property="position" content="3" data-v-78a62616></li><li property="itemListElement" typeof="ListItem" data-v-78a62616><a class="vp-link no-icon link breadcrumb current" href="/article/b6k9b12u/" property="item" typeof="WebPage" data-v-78a62616 data-v-c1812330><!--[-->加密与鉴权<!--]--><!----></a><!----><meta property="name" content="加密与鉴权" data-v-78a62616><meta property="position" content="4" data-v-78a62616></li><!--]--></ol></nav><!--[--><!--]--><!--[--><h1 class="vp-doc-title page-title" data-v-6451097d>加密与鉴权 <!----></h1><div class="vp-doc-meta" data-v-6451097d><!--[--><!--]--><p class="reading-time" data-v-6451097d><span class="vpi-books icon" data-v-6451097d></span><span data-v-6451097d>约 2578 字</span><span data-v-6451097d>大约 9 分钟</span></p><p data-v-6451097d><span class="vpi-tag icon" data-v-6451097d></span><!--[--><a class="vp-link no-icon link tag vp-tag-rj1k" href="/blog/tags/?tag=安全" data-v-6451097d data-v-c1812330><!--[-->安全<!--]--><!----></a><a class="vp-link no-icon link tag vp-tag-b6ot" href="/blog/tags/?tag=HTTP" data-v-6451097d data-v-c1812330><!--[-->HTTP<!--]--><!----></a><!--]--></p><!--[--><!--]--><p class="create-time" data-v-6451097d><span class="vpi-clock icon" data-v-6451097d></span><span data-v-6451097d>2025-09-11</span></p></div><!--]--><!--[--><!--]--><div class="_article_b6k9b12u_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-4b8661e4><!--[--><!--]--><div data-v-4b8661e4><p>在现代Web应用开发中，数据的安全性如同数字世界的护城河与城门守卫，至关重要。作为开发者，我们必须确保用户数据在传输和存储过程中不被窃取或篡改。本文将深入浅出地探讨Java后端与前端交互时涉及的<strong>信息传输加密</strong>和<strong>身份鉴权</strong>两大核心安全机制。</p><h2 id="一、-为何需要加密-——-不设防的世界很危险" tabindex="-1"><a class="header-anchor" href="#一、-为何需要加密-——-不设防的世界很危险"><span>一、 为何需要加密？—— 不设防的世界很危险</span></a></h2><p>想象一下，如果你在网上购物时，你的账号、密码、支付信息全部以明文（就像这张纸条：<code>密码：123456</code>）的形式在网络上传输，会发生什么？任何一个能够截获网络数据包的人（比如在公共Wi-Fi上）都能轻易地看到这一切。这就是著名的 <em>“中间人攻击”（Man-in-the-Middle Attack）</em>。</p><p>为了杜绝这种情况，我们需要对传输的信息进行加密，将其变成一段<strong>乱码（密文）</strong>，即使被截获，攻击者也难以解读其原始含义。</p><h2 id="二、-加密的两种核心方式-对称-vs-非对称" tabindex="-1"><a class="header-anchor" href="#二、-加密的两种核心方式-对称-vs-非对称"><span>二、 加密的两种核心方式：对称 vs 非对称</span></a></h2><p>加密算法主要分为两大类：<mark>对称加密</mark>和<mark>非对称加密</mark>。理解它们的区别是理解现代网络安全的基础。</p><h3 id="_1-对称加密-symmetric-encryption" tabindex="-1"><a class="header-anchor" href="#_1-对称加密-symmetric-encryption"><span>1. 对称加密 (Symmetric Encryption)</span></a></h3><p><strong>核心思想：</strong> 使用<strong>同一把钥匙</strong>进行加密和解密。</p><ul><li><strong>比喻：</strong> 就像用一个特定的钥匙锁上宝箱，对方必须用同一把钥匙才能打开。这把钥匙通常被称为<strong>密钥（Key）</strong>。</li><li><strong>工作流程：</strong><ol><li>发送方（前端）和接收方（后端）预先<strong>安全地</strong>商量好一个共同的密钥 <code>S</code>。</li><li>前端用密钥 <code>S</code> 加密数据，得到密文，发送给后端。</li><li>后端用同样的密钥 <code>S</code> 解密密文，得到原始数据。</li></ol></li><li><strong>常见算法：</strong> AES (Advanced Encryption Standard, 最常用)、DES、3DES。</li><li><strong>优点：</strong> 算法简单，<strong>加解密速度快</strong>，效率高，适合加密大量数据。</li><li><strong>缺点：</strong> <strong>密钥分发困难</strong>。如何安全地把密钥 <code>S</code> 告诉对方？如果在互联网上直接传输密钥，密钥本身也可能被截获。</li></ul><h3 id="_2-非对称加密-asymmetric-encryption" tabindex="-1"><a class="header-anchor" href="#_2-非对称加密-asymmetric-encryption"><span>2. 非对称加密 (Asymmetric Encryption)</span></a></h3><p><strong>核心思想：</strong> 使用<strong>一对钥匙</strong>：一个<strong>公钥(Public Key)<strong>和一个</strong>私钥(Private Key)</strong>。</p><ul><li><strong>比喻：</strong> 公钥就像一把打开的挂锁（任何人都可以拿到），私钥则是唯一能打开这把锁的钥匙（自己严格保管）。 <ul><li><strong>公钥</strong>是公开的，可以发给任何人。</li><li><strong>私钥</strong>是绝对私密的，只能由自己持有。</li></ul></li><li><strong>工作流程（两种用途）：</strong><ul><li><strong>加密信息：</strong> 如果A想发送加密信息给B。 <ol><li>A获取B的公钥。</li><li>A用B的<strong>公钥</strong>加密信息，发送给B。</li><li>B收到密文后，用自己的<strong>私钥</strong>解密。因为只有B的私钥能解密用B的公钥加密的内容，所以信息是安全的。</li></ol></li><li><strong>数字签名（用于身份验证）：</strong> 如果A想向B证明信息是自己发的且未被篡改。 <ol><li>A用自己的<strong>私钥</strong>对信息的摘要进行加密，这个加密后的摘要就是<strong>数字签名</strong>，附在信息后面一起发送给B。</li><li>B收到信息后，用A的<strong>公钥</strong>对签名进行解密，得到摘要A。</li><li>B再用同样的算法计算收到信息的摘要B。</li><li>如果摘要A和摘要B一致，则证明信息确实来自A且未被修改。</li></ol></li></ul></li><li><strong>常见算法：</strong> RSA (最常用)、ECC（椭圆曲线加密）。</li><li><strong>优点：</strong> <strong>安全性更高</strong>，解决了密钥分发问题，公钥可以任意公开。</li><li><strong>缺点：</strong> <strong>计算非常复杂，加解密速度慢</strong>，比对称加密慢几个数量级，不适合加密大量数据。</li></ul><h2 id="三、-强强联合-https与ssl-tls" tabindex="-1"><a class="header-anchor" href="#三、-强强联合-https与ssl-tls"><span>三、 强强联合：HTTPS与SSL/TLS</span></a></h2><p>在实际应用中（比如HTTPS），我们并不单独使用某一种加密方式，而是将它们结合使用，取长补短。这个过程主要由SSL/TLS协议完成。</p><ol><li><p><strong>握手阶段（非对称加密立功）：</strong></p><ul><li>浏览器（客户端）访问服务器， say hello。</li><li>服务器返回其SSL证书，其中包含服务器的<strong>公钥</strong>。</li><li>浏览器验证证书的合法性（是否由可信机构颁发，域名是否匹配等）。</li><li>验证通过后，浏览器生成一个随机的<strong>对称密钥</strong>（称为<code>Pre-Master Secret</code>）。</li><li>浏览器用服务器的<strong>公钥</strong>加密这个随机对称密钥，发送给服务器。</li><li>服务器用自己的<strong>私钥</strong>解密，得到这个对称密钥。</li><li><strong>至此，双方安全地共享了同一把对称密钥，且从未在网络上明文传输过。</strong></li></ul></li><li><p><strong>通信阶段（对称加密立功）：</strong></p><ul><li>后续所有的数据传输，都使用这把<strong>对称密钥</strong>进行加密和解密。</li><li>因为对称加密速度快，保证了通信的高效。</li></ul></li></ol><p><strong>结论：HTTPS = HTTP + SSL/TLS，它利用非对称加密的安全特性来交换对称密钥，再利用对称加密的高效来进行实际的数据传输。</strong></p><h2 id="四、-身份鉴权-authentication-你是谁" tabindex="-1"><a class="header-anchor" href="#四、-身份鉴权-authentication-你是谁"><span>四、 身份鉴权 (Authentication)：你是谁？</span></a></h2><p>加密保证了通信内容的安全，但还有一个关键问题：<strong>如何确认“你是你声称的那个人”？</strong> 这就是鉴权要解决的问题。</p><p>传统的鉴权方式是<strong>Session-Cookie</strong>机制：</p><ol><li>用户登录，后端验证用户名密码正确。</li><li>后端在服务器内存或数据库中创建一个Session对象，存储用户信息，并生成一个唯一的<code>SessionId</code>。</li><li>后端将<code>SessionId</code>通过<code>Set-Cookie</code>头部返回给前端浏览器。</li><li>浏览器后续每次请求都会自动带上这个Cookie（包含<code>SessionId</code>）。</li><li>后端根据<code>SessionId</code>找到对应的Session，从而知道用户身份。</li></ol><p><strong>缺点：</strong> 服务器需要存储所有用户的Session信息，在分布式或微服务架构中，需要做Session共享，增加了复杂度和服务器开销。</p><h2 id="五、-现代解决方案-jwt-json-web-token" tabindex="-1"><a class="header-anchor" href="#五、-现代解决方案-jwt-json-web-token"><span>五、 现代解决方案：JWT (JSON Web Token)</span></a></h2><p>JWT是一种<strong>无状态（Stateless）</strong> 的鉴权机制，完美解决了分布式系统的鉴权问题。服务器不再需要存储Session信息。</p><h3 id="_1-jwt是什么" tabindex="-1"><a class="header-anchor" href="#_1-jwt是什么"><span>1. JWT是什么？</span></a></h3><p>JWT是一个紧凑的、URL安全的令牌，它由三部分组成，用点<code>.</code>分隔： <code>Header.Payload.Signature</code></p><ul><li><strong>Header (头部):</strong> 通常由两部分组成，令牌类型（即JWT）和所使用的签名算法（如HMAC SHA256或RSA）。<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">alg</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">HS256</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">typ</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">JWT</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>Payload (负载):</strong> 存放实际需要传递的信息，比如用户ID、用户名、过期时间等。这些信息被称为<strong>声明（Claims）</strong>。<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">sub</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">1234567890</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">name</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">John Doe</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">admin</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exp</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1516239022</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>Signature (签名):</strong> 对前两部分的签名，用于防止令牌被篡改。 <ul><li>签名的生成方式：<code>HMACSHA256(base64UrlEncode(header) + &quot;.&quot; + base64UrlEncode(payload), secret)</code></li></ul></li></ul><p>最终，一个JToken看起来是这样： <code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</code></p><h3 id="_2-jwt的工作流程" tabindex="-1"><a class="header-anchor" href="#_2-jwt的工作流程"><span>2. JWT的工作流程</span></a></h3><ol><li><strong>登录：</strong> 用户用用户名密码登录。</li><li><strong>签发Token：</strong> 后端验证成功後，生成一个JWT（包含用户信息如userId），并用一个只有服务器知道的<strong>密钥(Secret)</strong> 为其签名，然后将JWT返回给前端。</li><li><strong>存储与发送：</strong> 前端（通常存放在localStorage或Cookie中）在后续请求的HTTP Header的<code>Authorization</code>字段中携带此Token：<code>Authorization: Bearer &lt;token&gt;</code>。</li><li><strong>验证Token：</strong> 后端收到请求后： <ul><li>检查JWT格式是否正确。</li><li>用同样的<strong>密钥(Secret)</strong> 验证签名是否有效。<strong>签名验证是核心</strong>，如果有人篡改了Payload，签名就会对不上，验证就会失败。</li><li>检查Token是否过期（检查<code>exp</code>声明）。</li><li>如果全部通过，即可信任Payload中的用户信息，完成鉴权。</li></ul></li></ol><h3 id="_3-jwt的优点与注意事项" tabindex="-1"><a class="header-anchor" href="#_3-jwt的优点与注意事项"><span>3. JWT的优点与注意事项</span></a></h3><ul><li><p><strong>优点：</strong></p><ul><li><strong>无状态：</strong> 服务器不需要存储Token，减轻了存储压力。</li><li><strong>易于扩展：</strong> 非常适合分布式和微服务系统，任何服务只要持有密钥就能验证Token。</li><li><strong>多端支持：</strong> 天然支持移动端、API调用等场景。</li></ul></li><li><p><strong>注意事项：</strong></p><ul><li><strong>Token一旦签发，在过期前始终有效</strong>。无法在服务端直接废止某个Token，这是JWT的一个设计特点。解决方案有：使用黑名单、设置较短的过期时间、使用Refresh Token机制等。</li><li><strong>Payload默认只是Base64编码，并非加密</strong>。<strong>绝对不要在JWT的Payload中存放敏感信息（如密码）</strong>。如果需要加密，可以选择JWE（JSON Web Encryption）规范。</li><li><strong>密钥(Secret)</strong> 必须严格保管在服务端。</li></ul></li></ul><h2 id="六、-java后端实战-生成与验证jwt" tabindex="-1"><a class="header-anchor" href="#六、-java后端实战-生成与验证jwt"><span>六、 Java后端实战：生成与验证JWT</span></a></h2><p>在Java中，我们可以使用流行的库如<code>jjwt</code>来方便地操作JWT。</p><p><strong>Maven依赖:</strong></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">dependency</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">groupId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">io.jsonwebtoken</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">groupId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">artifactId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">jjwt-api</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">artifactId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">0.11.5</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">dependency</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">dependency</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">groupId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">io.jsonwebtoken</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">groupId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">artifactId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">jjwt-impl</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">artifactId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">0.11.5</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">scope</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">runtime</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">scope</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">dependency</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">dependency</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">groupId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">io.jsonwebtoken</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">groupId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">artifactId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">jjwt-jackson</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">artifactId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">0.11.5</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">scope</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">runtime</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">scope</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">dependency</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>示例代码：</strong></p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-java"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> io</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">jsonwebtoken</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> io</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">jsonwebtoken</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">security</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Keys</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> java</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">security</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> java</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">util</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Date</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> JwtUtil</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 生成一个安全密钥（HS256算法要求密钥长度至少256位）</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    private</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> static</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> final</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> Key</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Keys</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">secretKeyFor</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">SignatureAlgorithm</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">HS256</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // Token有效期</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    private</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> static</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> final</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> long</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> EXPIRATION_TIME</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 86400000</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 24小时</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 生成JWT</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> static</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> String </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">generateToken</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">String </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">userId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Jwts</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">builder</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">setSubject</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">userId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 设置主题（用户ID）</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">setIssuedAt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> Date</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">())</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 签发时间</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">setExpiration</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> Date</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">System</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">currentTimeMillis</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> EXPIRATION_TIME</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">))</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 过期时间</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">signWith</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 使用密钥签名</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">compact</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 解析验证JWT</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> static</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> String </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">validateToken</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">String </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">token</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            Claims</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> claims</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> Jwts</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">parserBuilder</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                    .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">setSigningKey</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 设置签名密钥</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                    .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">build</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                    .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">parseClaimsJws</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">token</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                    .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">getBody</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            return</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> claims</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">getSubject</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 返回用户ID</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">ExpiredJwtException </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            throw</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> RuntimeException</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Token已过期</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">JwtException </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            throw</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> RuntimeException</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Token无效</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><table><thead><tr><th style="text-align:left;">主题</th><th style="text-align:left;">核心技术</th><th style="text-align:left;">解决的核心问题</th><th style="text-align:left;">应用场景</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>传输加密</strong></td><td style="text-align:left;"><strong>HTTPS (TLS)</strong><br>- 非对称加密交换密钥<br>- 对称加密加密数据</td><td style="text-align:left;">防止通信内容被窃听和篡改</td><td style="text-align:left;"><strong>所有</strong>Web通信的基石</td></tr><tr><td style="text-align:left;"><strong>身份鉴权</strong></td><td style="text-align:left;"><strong>JWT (JSON Web Token)</strong><br>- 数字签名保证Token可信</td><td style="text-align:left;">无状态地确认用户身份，解决分布式鉴权难题</td><td style="text-align:left;">API接口、移动端、单点登录(SSO)</td></tr></tbody></table><p>将加密与鉴权结合，就构建了一套完整的安全体系：</p><ol><li><strong>全程HTTPS</strong>：保证数据传输过程中的安全。</li><li><strong>JWT鉴权</strong>：保证API请求来源的合法性和身份真实性。</li></ol></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-4b8661e4 data-v-d5f5dcd4><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-d5f5dcd4><span class="contributors-label" data-v-d5f5dcd4>贡献者: </span><span class="contributors-info" data-v-d5f5dcd4><!--[--><!--[--><span class="contributor" data-v-d5f5dcd4>ziqingchuan</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-d5f5dcd4><div class="pager" data-v-d5f5dcd4><a class="vp-link no-icon link pager-link prev" href="/article/cswikea1/" data-v-d5f5dcd4 data-v-c1812330><!--[--><span class="desc" data-v-d5f5dcd4>上一页</span><span class="title" data-v-d5f5dcd4>Sass</span><!--]--><!----></a></div><div class="pager" data-v-d5f5dcd4><a class="vp-link no-icon link pager-link next" href="/article/2ep365r0/" data-v-d5f5dcd4 data-v-c1812330><!--[--><span class="desc" data-v-d5f5dcd4>下一页</span><span class="title" data-v-d5f5dcd4>关于MCP</span><!--]--><!----></a></div></nav></footer><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;" data-v-4b8661e4><div style="display: flex;align-items: center;justify-content: center;height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-b1a36740 data-v-0eea74ce><span class="percent" data-allow-mismatch data-v-0eea74ce>0%</span><span class="show icon vpi-back-to-top" data-v-0eea74ce></span><svg aria-hidden="true" data-v-0eea74ce><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-0eea74ce></circle></svg></button><footer class="vp-footer" vp-footer data-v-b1a36740 data-v-6e0cf4c0><!--[--><div class="container" data-v-6e0cf4c0><!----><p class="copyright" data-v-6e0cf4c0>© 2025  try-catch.life</p></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-DPsnFlrR.js" defer></script></body></html>